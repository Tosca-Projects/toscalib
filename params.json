{"name":"Toscalib","tagline":"A go implementation of the TOSCA Yaml specifications","body":"# Abstract\r\n\r\nThis library is an implementation of the TOSCA definition as described in the document written in pure GO\r\n[TOSCA Simple Profile in YAML Version 1.0](http://docs.oasis-open.org/tosca/TOSCA-Simple-Profile-YAML/v1.0/csd03/TOSCA-Simple-Profile-YAML-v1.0-csd03.html)\r\n\r\n## Normative Types\r\nThe normative types definitions are included de facto. The files are embeded using go-bindata.\r\n\r\n# Howto\r\n\r\nCreate a `ServiceTemplateDefinition` and call `Parse(r io.Reader)` to fill it with a YAML definition.\r\n\r\n## Example\r\n\r\n```go\r\nvar t toscalib.ServiceTemplateDefinition\r\nerr := t.Parse(os.Stdin)\r\nif err != nil {\r\n    log.Fatal(err)\r\n}\r\n```\r\n\r\n## Subprojects\r\n\r\n### toscaexec\r\n\r\nThe package `github.com/owulveryck/toscalib/toscaexec` parses a `ServiceTemplateDefinition` and generates an execution plan\r\nthat can be used by a TOSCA orchestrator.\r\n\r\nThe main execution structure is a [Playbook](https://godoc.org/github.com/owulveryck/toscalib/toscaexec#Playbook) and\r\nit is composed of several [Play](https://godoc.org/github.com/owulveryck/toscalib/toscaexec#Play) referenced by their `ID` in\r\nan [Index](https://godoc.org/github.com/owulveryck/toscalib/toscaexec#Index) map.\r\n\r\nThe execution plan is represented by a directed graph via an adjacency matrix.\r\nA play can run if its vector col is zero. Otherwise it depends of the execution of all the tasks where a(row,col) =1.\r\n\r\n#### example\r\n\r\n```go\r\nimport (\r\n    \"github.com/owulveryck/toscalib\"\r\n    \"github.com/owulveryck/toscalib/toscaexec\"\r\n)\r\n\r\nvar t toscalib.ServiceTemplateDefinition\r\nt.Parse(os.Stdin)\r\ne := toscaexec.GeneratePlaybook(t)\r\nfor i, n := range e.Index {\r\n    log.Printf(\"[%v] %v:%v -> %v %v\",\r\n        i,\r\n        n.NodeTemplate.Name,\r\n        n.OperationName,\r\n        n.NodeTemplate.Interfaces[n.InterfaceName].Operations[n.OperationName].Implementation,\r\n        n.NodeTemplate.Interfaces[n.InterfaceName].Operations[n.OperationName].Inputs,\r\n    )\r\n}\r\n```\r\n\r\n### tosca2dot\r\n\r\ntosca2dot is a package helpful to generate a graphical representation of TOSCA structure and execution plan.\r\n\r\n#### example\r\n\r\n```go\r\nimport \"github.com/owulveryck/toscalib/tosca2dot\"\r\n...\r\nvar e toscaexec Playbook\r\n...\r\ns := tosca2dot.GetDot(e)\r\nfmt.Println(s)\r\n```\r\n\r\n```shell\r\ncat tosca_elk.yaml | go run example.go | dot -T svg > tosca_elk.svg\r\n```\r\n\r\n## Other projects related to TOSCA\r\n\r\n* [gorchestrator](https://github.com/owulveryck/gorchestrator) is implementing thos toscalib for one of its client.\r\n\r\n# Status\r\n\r\n## Test\r\nThe basic tests function are taking all the examples of the standard and try to parse them.\r\nNo verification is done, but by now, I don't have any error in the parsing of any file.\r\n\r\n### Coverage\r\n```shell\r\ngithub.com/owulveryck/toscalib/capabilities.go:14:              UnmarshalYAML           94.1%\r\ngithub.com/owulveryck/toscalib/constraints.go:9:                IsValid                 0.0%\r\ngithub.com/owulveryck/toscalib/constraints.go:24:               Evaluate                0.0%\r\ngithub.com/owulveryck/toscalib/constraints.go:27:               UnmarshalYAML           90.9%\r\ngithub.com/owulveryck/toscalib/interfaces.go:22:                UnmarshalYAML           90.9%\r\ngithub.com/owulveryck/toscalib/interfaces.go:55:                UnmarshalYAML           90.9%\r\ngithub.com/owulveryck/toscalib/node_template.go:29:             setRefs                 87.5%\r\ngithub.com/owulveryck/toscalib/node_template.go:45:             getInterface            100.0%\r\ngithub.com/owulveryck/toscalib/node_template.go:54:             fillInterface           94.1%\r\ngithub.com/owulveryck/toscalib/node_template.go:82:             setName                 100.0%\r\ngithub.com/owulveryck/toscalib/node_type.go:21:                 getInterface            100.0%\r\ngithub.com/owulveryck/toscalib/parser.go:14:                    GetNodeTemplate         0.0%\r\ngithub.com/owulveryck/toscalib/parser.go:24:                    merge                   86.0%\r\ngithub.com/owulveryck/toscalib/parser.go:92:                    Parse                   67.3%\r\ngithub.com/owulveryck/toscalib/properties.go:28:                UnmarshalYAML           72.2%\r\ngithub.com/owulveryck/toscalib/requirements.go:12:              UnmarshalYAML           93.3%\r\ngithub.com/owulveryck/toscalib/service_template.go:27:          Bytes                   0.0%\r\ngithub.com/owulveryck/toscalib/service_template.go:33:          String                  0.0%\r\ngithub.com/owulveryck/toscalib/tosca_namespace_alias.go:96:     UnmarshalYAML           0.0%\r\n```\r\n\r\n \r\n# API\r\n[![GoDoc](https://godoc.org/github.com/owulveryck/toscalib?status.svg)](https://godoc.org/github.com/owulveryck/toscalib)\r\n\r\n# Legacy\r\n\r\nThis API is in complete rewrite, for the old version, please checkout the \"v1\" branch\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}